<h1>Projects</h1>


<div class="row">
    <div class="small-3 column">
        <%= form_for :sorts, url: projects_path, html: { method: :get } do |f| %> 
            <%= f.label :filter %> 
            <%= f.select :filter, ['none', 'title', 'genre', 'form'], :selected => @filter %>
            <%= f.submit "Filter" %>
        <% end %>
    </div>
</div>

<div>
    <table>
        <tr>
            <th width="200">Title</th>
            <th width="200">Genre</th>
            <th width="200">Form</th>
            <th width="200">Characters</th>
            <th width="200">Settings</th>
            <th width="200">Scenes</th>
            <th></th>
            <th></th>

        </tr>
        <% @projects.each do |p| %>
            <tr>
                <td><%= link_to p.title, project_path(p)%></td> 
                <td><%= p.genre %></td>
                <td><%= p.form %></td>
                <td><%= p.characters.count %></td>
                <td><%= p.setts.count %></td>
                <td><%= p.scenes.count %></td>
                <td><%=link_to 'Edit', edit_project_path(p)%></td>
                <td><%= button_to "Delete", project_path(p), method: :delete %>
                </td>
            </tr>
        <% end %>
    </table>
<%= link_to 'Add Project', new_project_path %>
</div>  